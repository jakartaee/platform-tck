<html xmlns:Assertions="http://javaweb/~ja120114/assertions">
<head>
<META http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<!--

    Copyright (c) 2018, 2020 Oracle and/or its affiliates. All rights reserved.

    This program and the accompanying materials are made available under the
    terms of the Eclipse Public License v. 2.0, which is available at
    http://www.eclipse.org/legal/epl-2.0.

    This Source Code may also be made available under the following Secondary
    Licenses when the conditions for such availability set forth in the
    Eclipse Public License v. 2.0 are satisfied: GNU General Public License,
    version 2 with the GNU Classpath Exception, which is available at
    https://www.gnu.org/software/classpath/license.html.

    SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0

-->

<title>Specification Assertion Detail</title>
</head>
<body bgcolor="white">
<br>
<CENTER>
<h2>Java Authorization Contract for Containers.<br>1 - 1.0<br>
                                Specification Assertion Detail
                        </h2>
</CENTER>
<TABLE cellpadding="5" frame="box" border="1" width="900">
<TH bgcolor="#BFBFBF"><FONT size="1PT">Totals</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Total</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Active</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Deprecated</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Removed</FONT></TH>
<tr>
<TD valign="center" align="center"><font size="2PT">
                                                # of Assertions
                                        </font></TD><TD valign="center" align="center"><font size="2PT">106</font></TD><TD valign="center" align="center"><font size="2PT">106</font></TD><TD valign="center" align="center"><font size="2PT">0</font></TD><TD valign="center" align="center"><font size="2PT">0</font></TD>
</tr>
<tr>
<TD valign="center" align="center"><font size="2PT">
                                                # of Required Assertions
                                        </font></TD><TD valign="center" align="center"><font size="2PT">96</font></TD><TD valign="center" align="center"><font size="2PT">96</font></TD><TD valign="center" align="center"><font size="2PT">0</font></TD><TD valign="center" align="center"><font size="2PT">0</font></TD>
</tr>
<tr>
<TD valign="center" align="center"><font size="2PT">
                                                # of Optional Assertions
                                        </font></TD><TD valign="center" align="center"><font size="2PT">10</font></TD><TD valign="center" align="center"><font size="2PT">10</font></TD><TD valign="center" align="center"><font size="2PT">0</font></TD><TD valign="center" align="center"><font size="2PT">0</font></TD>
</tr>
</TABLE>
<br>container assertions<TABLE cellpadding="5" frame="box" border="1" width="900">
<TH bgcolor="#BFBFBF"><FONT size="1PT">ID</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Chapter</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Section</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Description</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Required</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Dependency</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Implementation Specific</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Defined by</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Status</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Testable</FONT></TH>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:2"></a><font size="1PT">JACC:SPEC:2</font></TD><TD valign="center" align="center"><font size="1PT">1</font></TD><TD valign="center" align="center"><font size="1PT">1.4</font></TD><TD valign="center" align="left"><font size="1PT">J2EE 1.4 platforms must implement the contract defined by this JSR.</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:3"></a><font size="1PT">JACC:SPEC:3</font></TD><TD valign="center" align="center"><font size="1PT">1</font></TD><TD valign="center" align="center"><font size="1PT">1.4</font></TD><TD valign="center" align="left"><font size="1PT">Support for the contract by J2EE 1.3 platforms is optional. (OPTIONAL)</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:5"></a><font size="1PT">JACC:SPEC:5</font></TD><TD valign="center" align="center"><font size="1PT">1</font></TD><TD valign="center" align="center"><font size="1PT">1.4</font></TD><TD valign="center" align="left"><font size="1PT">Each provider must export interfaces (defined by this contract) for
   use by containers and or container deployment tools to create policy
   statements within the policy store of the provider. These interfaces
   must be used when an application or module is deployed in a 
   container.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:10"></a><font size="1PT">JACC:SPEC:10</font></TD><TD valign="center" align="center"><font size="1PT">1</font></TD><TD valign="center" align="center"><font size="1PT">1.4</font></TD><TD valign="center" align="left"><font size="1PT">To support this contract in a Servlet environment, a container or its
deployment tools must create policy statements as necessary to
support Servlet's default role-ref semantic.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:11"></a><font size="1PT">JACC:SPEC:11</font></TD><TD valign="center" align="center"><font size="1PT">1</font></TD><TD valign="center" align="center"><font size="1PT">1.4</font></TD><TD valign="center" align="left"><font size="1PT">This contract must support providers that are unable to determine,
before returning from Policy.getPermissions(), all the permissions
that pertain to a subject/protection domain.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:12"></a><font size="1PT">JACC:SPEC:12</font></TD><TD valign="center" align="center"><font size="1PT">1</font></TD><TD valign="center" align="center"><font size="1PT">1.4</font></TD><TD valign="center" align="left"><font size="1PT">For a container to support this contract, it must execute in an
environment controlled by a J2SE security manager.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:13"></a><font size="1PT">JACC:SPEC:13</font></TD><TD valign="center" align="center"><font size="1PT">1</font></TD><TD valign="center" align="center"><font size="1PT">1.4</font></TD><TD valign="center" align="left"><font size="1PT">The evaluation of a permission corresponding to a resource must
identify the context of the resource's use such that different policy
can be applied to a resource used in different contexts (that is,
applications or instances of an application).
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:14"></a><font size="1PT">JACC:SPEC:14</font></TD><TD valign="center" align="center"><font size="1PT">2</font></TD><TD valign="center" align="center"><font size="1PT">2.1</font></TD><TD valign="center" align="left"><font size="1PT">The security property  policy.provider may be used to replace the default
java.security.Policy implementation class. Similarly, the security
property  auth.policy.provider  may be used to replace the default
jakarta.security.auth.Policy implementation class.
			</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:15"></a><font size="1PT">JACC:SPEC:15</font></TD><TD valign="center" align="center"><font size="1PT">2</font></TD><TD valign="center" align="center"><font size="1PT">2.5</font></TD><TD valign="center" align="left"><font size="1PT">Each JRE of an application server must be provided with classes that implement
the PolicyConfigurationFactory class and PolicyConfiguration
interface. These classes must be compatible with the Policy implementation class
installed for use by the JRE.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:21"></a><font size="1PT">JACC:SPEC:21</font></TD><TD valign="center" align="center"><font size="1PT">2</font></TD><TD valign="center" align="center"><font size="1PT">2.7</font></TD><TD valign="center" align="left"><font size="1PT">An application server or container must bundle or install the
jakarta.security.jacc standard extension. This package must include the
abstract jakarta.security.jacc.PolicyConfigurationFactory class
and implementations of the jakarta.security.jacc Permission classes and the
jakarta.security.jacc.PolicyContext utility class.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:22"></a><font size="1PT">JACC:SPEC:22</font></TD><TD valign="center" align="center"><font size="1PT">2</font></TD><TD valign="center" align="center"><font size="1PT">2.7</font></TD><TD valign="center" align="left"><font size="1PT">To enable delegation of non-jakarta.security.jacc policy decisions to
default system Policy providers, all application servers must implement the
following Policy replacement algorithm.

For each JRE of a J2EE 1.4 application server, if the system property
jakarta.security.jacc.policy.provider is defined, the application server must
construct an instance of the class identified by the system property,
confirm that the resulting object is an instance of java.security.Policy,
and set, by calling the java.security.Policy.setPolicy, the resulting
object as the corresponding Policy object used by the JRE.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:23"></a><font size="1PT">JACC:SPEC:23</font></TD><TD valign="center" align="center"><font size="1PT">2</font></TD><TD valign="center" align="center"><font size="1PT">2.7</font></TD><TD valign="center" align="left"><font size="1PT">In both J2SE 1.3 and J2SE 1.4 environments, if the system property
&ldquo;jakarta.security.jacc.auth.policy.provider&rdquo; is defined, an application
server must use an analogous method to construct an instance of the class
identified by the system property, confirm that the resulting object is an instance
of jakarta.security.auth.Policy, and set, by calling
jakarta.security.auth.Policy.setPolicy, the resulting object as the
corresponding Policy object used by the JRE.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:24"></a><font size="1PT">JACC:SPEC:24</font></TD><TD valign="center" align="center"><font size="1PT">2</font></TD><TD valign="center" align="center"><font size="1PT">2.7.1</font></TD><TD valign="center" align="left"><font size="1PT">A J2EE 1.3 application
server must install or bundle, such that it is used by every JRE of the application
server, a javax.security.auth.SubjectDomainCombiner whose
combine method returns protection domains constructed using the permission
collections returned by jakarta.security.auth.Policy.getPermisions.
It is recommended that this requirement also be satisfied by J2EE 1.4 application
servers in the case where jakarta.security.auth.Policy is being used (in
backward compatibility mode) by the SubjectDomainCombiner.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:32"></a><font size="1PT">JACC:SPEC:32</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.2</font></TD><TD valign="center" align="left"><font size="1PT">A servlet container is responsible
for mapping the target name or address information of an HTTP request to the
appropriate hostname.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:71"></a><font size="1PT">JACC:SPEC:71</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.1.1</font></TD><TD valign="center" align="left"><font size="1PT">The Servlet container must construct (or reuse) a WebUserDataPermission object
using the request URI minus the context path as the name and with actions
composed from the HTTP method of the request and a protection value describing
the transport layer protection of the connection on which the request arrived. 

If access to the resource has been excluded, the request must be
redirected as defined by the Servlet Specification. If access to the resource has not
been excluded, the request must be subjected to a pre-dispatch decision.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:72"></a><font size="1PT">JACC:SPEC:72</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.1.2</font></TD><TD valign="center" align="left"><font size="1PT">The Servlet container must construct (or reuse) a WebResourcePermission object
using the request URI minus the context path as the name and with actions
corresponding to the HTTP method of the request.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:73"></a><font size="1PT">JACC:SPEC:73</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.1.2</font></TD><TD valign="center" align="left"><font size="1PT">If a SecurityException is thrown in the permission determination, it
must be caught, and the result of the determination must be that the permission is
not granted to the caller. The Servlet container may only dispatch the request to
the web resource if theWebResourcePermission is determined to be granted to the
caller. Otherwise the request must be rejected with the appropriate HTTP error
message.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:74"></a><font size="1PT">JACC:SPEC:74</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.1.2</font></TD><TD valign="center" align="left"><font size="1PT">Before it dispatches a call to a web resource, the container must associate with
the call thread an AccessControlContext containing the principals of (only) the
target component&rsquo;s runAs identity (as defined in Section 4.5, &ldquo;Component runAs
Identity).
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:75"></a><font size="1PT">JACC:SPEC:75</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.1.3</font></TD><TD valign="center" align="left"><font size="1PT">When a call is made from a web resource to isUserInRole(String
roleName) the implementation of this method must construct (or reuse) a
WebRoleRefPermission object using the servlet-name of the calling web resource
as the name and with actions equal to the roleName used in the call.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:76"></a><font size="1PT">JACC:SPEC:76</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.1.3</font></TD><TD valign="center" align="left"><font size="1PT">If a
SecurityException is thrown in the permission determination, it must be caught,
and the result of the determination must be that the permission is not granted to
the caller. If it is determined that the WebRoleRefPermission has been granted to
the caller, isUserInRole must return true. Otherwise the return value must be false.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:77"></a><font size="1PT">JACC:SPEC:77</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.2.2</font></TD><TD valign="center" align="left"><font size="1PT">The policy statements of the identified PolicyConfiguration are filtered to
select the set of statements that refer to a permission of the same type as the
checked permission and that have as their name the url-pattern that is the bestmatch
to the name of the checked permission. The algorithm for determining the
best matching url-pattern is described in Section 4.2.2.1, &ldquo;Servlet URL-Pattern
Matching Rules&rdquo;. The resulting policy statements are then reduced to the set
whose actions match the actions of the checked permission. If the resulting set is
empty, the evaluation may terminate, and the result of the evaluation must be that
the checked permission is determined to be unconstrained and thus implicitly
granted.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:78"></a><font size="1PT">JACC:SPEC:78</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.2.2</font></TD><TD valign="center" align="left"><font size="1PT">If the resulting set is not empty, and it contains one or more excluded policy
statements, the evaluation may terminate and the checked permission must be
determined not to be granted.

Otherwise, if the set contains one or more unchecked policy statements, 
the evaluation may terminate and the checked permission must be 
determined to be granted. If the resulting set contained neither
excluded or unchecked policy statements, then the access control context may
only be determined to have been granted the checked permission if it has been
accorded a permission with name equal to the best-matching pattern, and with
actions equal to the actions of the checked permission.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:79"></a><font size="1PT">JACC:SPEC:79</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.2.2.1</font></TD><TD valign="center" align="left"><font size="1PT">URL pattern matching must be guided by pattern type such that exact patterns
(those not ending with * or /, or beginning with *.) must match better than
path prefix patterns (those ending with /*)

 and such that path prefix patterns must match better than extension patterns
 (those beginning with *.),

 and suchthat extension patterns must match better than the universal pattern /). 

Among path prefix matches, longer string length patterns must match better than shorter
patterns.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:80"></a><font size="1PT">JACC:SPEC:80</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.3</font></TD><TD valign="center" align="left"><font size="1PT">EJB containers must enforce the authorization policies established for EJB
resources as a result of the deployment of application modules containing EJB
resources.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:81"></a><font size="1PT">JACC:SPEC:81</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.3.1</font></TD><TD valign="center" align="left"><font size="1PT">The EJB container must construct (or reuse) an EJBMethodPermission object with
name corresponding to the ejb-name of the target resource. The actions used in the
permission construction must completely specify the method of the EJB by
identifying the method interface, method name, and method signature as defined
for a methodSpec in the documentation of the EJBMethodPermission class.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:82"></a><font size="1PT">JACC:SPEC:82</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.3.1</font></TD><TD valign="center" align="left"><font size="1PT">If a SecurityException is
thrown in the permission determination, it must be caught, and the result of the
determination must be that the permission is not granted to the caller. The EJB
container may only dispatch the request to the EJB resource, if the
EJBMethodPermission is determined to be granted to the caller. Otherwise the
request must be rejected with the appropriate RMISecurityException, as defined
by the EJB specification.
Before it dispatches a call to an EJB, the container must associate with the call
thread an AccessControlContext containing the principals of only the target EJB&rsquo;s
runAs identity (as defined in Section 4.5, &ldquo;Component runAs Identity).
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:83"></a><font size="1PT">JACC:SPEC:83</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.3.2</font></TD><TD valign="center" align="left"><font size="1PT">When an EJB makes a call to isCallerInRole(String roleName) the
implementation of this method must construct (or reuse) an
EJBRoleRefPermission object using the ejb-name of the EJB making the call as
the name and with the value of the roleName as actions.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:84"></a><font size="1PT">JACC:SPEC:84</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.3.2</font></TD><TD valign="center" align="left"><font size="1PT">If a
SecurityException is thrown in the permission determination, it must be caught,
and the result of the determination must be that the permission is not granted to
the caller. If it is determined that the EJBRoleRefPermission has been granted to
the caller, then isCallerInRole must return true. Otherwise the return value must
be false.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:91"></a><font size="1PT">JACC:SPEC:91</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.5</font></TD><TD valign="center" align="left"><font size="1PT">By default (and unless otherwise specified in the EJB or Servlet
specifications), components are configured such that they are assigned the identity
of their caller (such as it is) as their runAs identity. Alternatively, a Deployer may
choose to assign an environment specific identity as a component&rsquo;s runAs identity.
In this case, the container must establish the specified identity as the component&rsquo;s
runAs identity independent of the identity of the component&rsquo;s caller.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:94"></a><font size="1PT">JACC:SPEC:94</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.6</font></TD><TD valign="center" align="left"><font size="1PT">A policy context identifier is set on a thread by calling the setContextID method
on the PolicyContext utility class. The value of a thread&rsquo;s policy context identifier
is null until the setContextID method is called. Before invoking policy to evaluate
a transport guarantee or to perform a pre-dispatch decision, and before
dispatching into a Servlet or EJB component, a container must ensure that the
thread&rsquo;s policy context identifier identifies the PolicyConfiguration corresponding
to the instance of the module or application for which the operation is being
performed.
Containers must be granted the &ldquo;setPolicy&rdquo; SecurityPermission independent
of policy context identifier (or in all policy contexts) as they need this permission
to set the policy context identifier.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:95"></a><font size="1PT">JACC:SPEC:95</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.6.1</font></TD><TD valign="center" align="left"><font size="1PT">This specification requires that containers register policy context handlers with
the PolicyContext utility class such that policy providers can invoke these
handlers to obtain additional context to apply in their access decisions. Policy
context handlers are objects that implement the PolicyContextHandler interface.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:96"></a><font size="1PT">JACC:SPEC:96</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.6.1</font></TD><TD valign="center" align="left"><font size="1PT">All of the required context handlers must
return the value null when activated outside of the scope of a container&rsquo;s
processing of a component request. Policy modules must not call methods on or
modify the objects returned by the context handlers if these actions will adversely
affect the container&rsquo;s ability to process the request.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:97"></a><font size="1PT">JACC:SPEC:97</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.6.1.1</font></TD><TD valign="center" align="left"><font size="1PT">All EJB and Servlet containers must register a PolicyContextHandler whose
getContext method returns a javax.security.auth.Subject object when invoked with
the key &ldquo;javax.security.auth.Subject.container&rdquo;. When this handler is activated
as the result of a policy decision performed by a container before dispatch
into a component, this handler must return a Subject containing the principals
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:98"></a><font size="1PT">JACC:SPEC:98</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.6.1.2</font></TD><TD valign="center" align="left"><font size="1PT">All EJB and Servlet containers must register a PolicyContextHandler whose
getContext method returns a javax.xml.soap.SOAPMessage object when invoked
with the key &ldquo;javax.xml.soap.SOAPMessage&rdquo;. If the request being processed by
the container arrived as a SOAP request, the container must return the SOAP
message object when this handler is activated.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:99"></a><font size="1PT">JACC:SPEC:99</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.6.1.3</font></TD><TD valign="center" align="left"><font size="1PT">All Servlet containers must register a PolicyContextHandler whose getContext
method returns a javax.servlet.http.HttpServletRequest object when invoked with
the key &ldquo;javax.servlet.http.HttpServletRequest&rdquo;. When this handler is activated,
the container must return the HttpServletRequest object corresponding to the
component request being processed by the container.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:100"></a><font size="1PT">JACC:SPEC:100</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.6.1.4</font></TD><TD valign="center" align="left"><font size="1PT">All EJB containers must register a PolicyContextHandler whose getContext
method returns a jakarta.ejb.EnterpriseBean object when invoked with the key
&ldquo;jakarta.ejb.EnterpriseBean&rdquo;. When this handler is activated, the container must
return the EnterpriseBean object corresponding to the component request being
processed by the container.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:101"></a><font size="1PT">JACC:SPEC:101</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.6.1.5</font></TD><TD valign="center" align="left"><font size="1PT">All EJB containers must register a PolicyContextHandler whose getContext
method returns an array of objects (Object[]) containing the arguments of the EJB
method invocation (in the same order as they appear in the method signature)
when invoked with the key &ldquo;jakarta.ejb.arguments&rdquo;. If there are no parameters in
the method signature, the context handler must return the value null.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:102"></a><font size="1PT">JACC:SPEC:102</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.7</font></TD><TD valign="center" align="left"><font size="1PT">The policy statements
corresponding to WebUserDataPermission objects are represented as excluded
policy statements. A container must use one of the following techniques to
determine if a WebUserDataPermission is excluded1.

The container calls AccessControlContext.checkPermission with
the WebUserDataPermission as argument. The call to checkPermission
may be made on any AccessControlContext. If checkPermission throws
an AccessControlException, the WebUserDataPermission is excluded.
Otherwise the permission is not excluded.

 The container calls AccessController.checkPermission with the
WebUserDataPermission as argument. The value of the current thread&rsquo;s
AccessControlContext is irrelevant in the access determination. If
checkPermission throws an AccessControlException, the
WebUserDataPermission is excluded. Otherwise the permission is not
excluded.

 The container calls SecurityManager.checkPermission with the
WebUserDataPermission as argument. If checkPermission throws an
AccessControlException, theWebUserDataPermission is excluded.Otherwise
the permission is not excluded.

The J2EE 1.4 container calls Policy.implies with two arguments; the
WebUserDataPermission and an argument ProtectionDomain that was
constructed without static permissions and that need not be constructed with
principals. The checked permission is excluded if Policy.implies returns false.
Otherwise, the permission is not excluded.

The J2EE 1.4 container calls
java.security.Policy.getPermissions with an argument
ProtectionDomain that must be constructed without static permissions and that
need not be constructed with principals. The container must call the implies
method on the returned PermissionCollection using the permission being
checked as argument. The checked permission is excluded if the
PermissionCollection does not imply it. Otherwise, the permission is not
excluded. This technique is supported but not recommended.

The J2EE 1.3 container calls
jakarta.security.auth.Policy.getPermissions to determine the
collection of permissions granted independent of access control context. The
Subject argument in the call to getPermissions may be null. The container
must call the impliesmethod on the returned PermissionCollection using the
permission being checked as argument. The checked permission is excluded if
the PermissionCollection does not imply it. Otherwise, the permission is not
excluded. This technique is supported but not recommended.
Prior to using any of the techniques described in this section, the container
must have established a policy context identifier as defined in Section 4.6,
Setting the Policy Context.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:103"></a><font size="1PT">JACC:SPEC:103</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.8</font></TD><TD valign="center" align="left"><font size="1PT">A container must determine if the caller has been granted a permission by
evaluating the permission in the context of an AccessControlContext,
ProtectionDomain, or Subject containing the principals of (only) the caller. If the
caller's identity has been asserted or vouched for by a trusted authority (other than
the caller), the principals of the authority must not be included in the principals of
the caller.
A container must use one of the following techniques to determine if a
permission has been granted to the caller.

The container calls AccessControlContext.checkPermission with
the permission as argument. The call to checkPermission must be made on
an AccessControlContext that contains the principals of the caller. If
checkPermission throws an AccessControlException, the permission is not
granted to the caller. Otherwise the permission is granted.

The container calls AccessController.checkPermission with the
permission as argument. The AccessControlContext associated with the thread
on which the call to checkPermission is made must contain the principals
of the caller. If checkPermission throws an AccessControlException, the
permission is not granted to the caller. Otherwise the permission is granted.

The container calls SecurityManager.checkPermission with the
permission as argument. The AccessControlContext associated with the thread
on which the call to checkPermission is made must contain the principals
of the caller. If checkPermission throws an AccessControlException, the
permission is not granted to the caller. Otherwise the permission is granted.

The J2EE 1.4 container calls Policy.implies with two arguments; the
permission being checked and a ProtectionDomain constructed with the
principals of the caller. The boolean result returned by Policy.implies
indicates whether or not the permission has been granted to the caller.

The J2EE 1.4 container calls
java.security.Policy.getPermissions with an argument
ProtectionDomain that was constructed with the principals of the caller. The
container must call the implies method on the returned
PermissionCollection using the permission being checked as argument. If the
PermissionCollection implies the permission being tested, the permission has
been granted to the caller. Otherwise it has not. This technique is supported but
not recommended.

The J2EE 1.3 container calls
jakarta.security.auth.Policy.getPermissions with an argument
Subject containing the principals of the caller.The container must call the
implies method on the returned PermissionCollection using the permission
being checked as argument. If the PermissionCollection implies the permission
being tested, the permission has been granted to the caller. Otherwise it has not.
This technique is supported but not recommended.
Prior to using any of the techniques described in this section, the container
must have established a policy context identifier as defined in Section 4.6,
Setting the Policy Context.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:106"></a><font size="1PT">JACC:SPEC:106</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.11</font></TD><TD valign="center" align="left"><font size="1PT">To be compatible with this contract, all of the JRE&rsquo;s of a J2EE 1.4 application
server must perform all of the policy decisions defined by this contract by
interacting with the java.security.Policy instance available in the JRE
via the java.security.Policy.getPolicy method.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:107"></a><font size="1PT">JACC:SPEC:107</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.11</font></TD><TD valign="center" align="left"><font size="1PT">All of the JRE&rsquo;s of a
J2EE 1.3 application server must perform all of the policy decisions defined by
this contract by interacting with the jakarta.security.auth.Policy instance
available in the JRE via the jakarta.security.auth.getPolicy method.
			</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
</TABLE>provider assertions<TABLE cellpadding="5" frame="box" border="1" width="900">
<TH bgcolor="#BFBFBF"><FONT size="1PT">ID</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Chapter</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Section</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Description</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Required</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Dependency</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Implementation Specific</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Defined by</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Status</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Testable</FONT></TH>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:4"></a><font size="1PT">JACC:SPEC:4</font></TD><TD valign="center" align="center"><font size="1PT">1</font></TD><TD valign="center" align="center"><font size="1PT">1.4</font></TD><TD valign="center" align="left"><font size="1PT">Each Policy provider that satisfies this contract must perform or
delegate to another provider all the permission evaluations
requested via its interface in the JRE; not just those made by the
container to implement J2EE security functionality.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:6"></a><font size="1PT">JACC:SPEC:6</font></TD><TD valign="center" align="center"><font size="1PT">1</font></TD><TD valign="center" align="center"><font size="1PT">1.4</font></TD><TD valign="center" align="left"><font size="1PT">Each provider must export interfaces (defined by this contract) for
   use by containers and or container deployment tools to create policy
   statements within the policy store of the provider. These interfaces
   must be used when an application or module is deployed in a 
   container.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:7"></a><font size="1PT">JACC:SPEC:7</font></TD><TD valign="center" align="center"><font size="1PT">1</font></TD><TD valign="center" align="center"><font size="1PT">1.4</font></TD><TD valign="center" align="left"><font size="1PT">Each provider must satisfy all of the authorization requirements of 
   the EJB and Servlet specifications corresponding to the target
   platform.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:8"></a><font size="1PT">JACC:SPEC:8</font></TD><TD valign="center" align="center"><font size="1PT">1</font></TD><TD valign="center" align="center"><font size="1PT">1.4</font></TD><TD valign="center" align="left"><font size="1PT">In the case of Servlet resources, the provider must be able to
   associate a distinct policy context with each context root
   (including context roots created to support virtual hosting)
   hosted by the server.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:9"></a><font size="1PT">JACC:SPEC:9</font></TD><TD valign="center" align="center"><font size="1PT">1</font></TD><TD valign="center" align="center"><font size="1PT">1.4</font></TD><TD valign="center" align="left"><font size="1PT">In protecting Servlet resources, a provider must select the
constraints that apply to a resource according to the "best-match"
constraint matching rules defined by this specification and the
servlet mapping rules defined by the Servlet specification.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:16"></a><font size="1PT">JACC:SPEC:16</font></TD><TD valign="center" align="center"><font size="1PT">2</font></TD><TD valign="center" align="center"><font size="1PT">2.5</font></TD><TD valign="center" align="left"><font size="1PT">If the provider is seeking to replace the Policy implementation used by the
JRE, then the JRE must be provided with an environment specific Policy
implementation class. If the JRE is running a J2SE 1.4 security environment, then
it must be provided with an implementation of the java.security.Policy
class. If the JRE is running a J2SE 1.3 security environment, it must be provided
with an implementation of the jakarta.security.auth.Policy class (that is,
a JAAS Policy object).
			</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:17"></a><font size="1PT">JACC:SPEC:17</font></TD><TD valign="center" align="center"><font size="1PT">2</font></TD><TD valign="center" align="center"><font size="1PT">2.5</font></TD><TD valign="center" align="left"><font size="1PT">A replacement Policy object must assume responsibility for performing all
policy decisions within the JRE in which it is installed that are requested by way
of the Policy interface that it implements. A replacement Policy object may
accomplish this by delegating non-jakarta.security.jacc policy decisions to
the corresponding default system Policy implementation class.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:18"></a><font size="1PT">JACC:SPEC:18</font></TD><TD valign="center" align="center"><font size="1PT">2</font></TD><TD valign="center" align="center"><font size="1PT">2.5</font></TD><TD valign="center" align="left"><font size="1PT">A replacement
Policy object that relies in this way on the corresponding default Policy
implementation class must identify itself in its installation instructions as a
&ldquo;delegating Policy provider&rdquo;.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:19"></a><font size="1PT">JACC:SPEC:19</font></TD><TD valign="center" align="center"><font size="1PT">2</font></TD><TD valign="center" align="center"><font size="1PT">2.5</font></TD><TD valign="center" align="left"><font size="1PT">The standard security properties mechanism for replacing a default system
Policy implementation (see Section 2.1, &ldquo;Policy Implementation Class) should
not be used to replace a default system Policy provider with a delegating policy
provider.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:20"></a><font size="1PT">JACC:SPEC:20</font></TD><TD valign="center" align="center"><font size="1PT">2</font></TD><TD valign="center" align="center"><font size="1PT">2.6</font></TD><TD valign="center" align="left"><font size="1PT">A J2SE 1.4 provider may support replacement of
the JAAS Policy object if and only if all jakarta.security.jacc policy decisions
performed by the replacement JAAS Policy object return the same result as when
the java.security.Policy interface is used. To satisfy this requirement, the
replacement JAAS policy object must be compatible with the implementations of
PolicyConfigurationFactory and PolicyConfiguration interface
provided for use with the java.security.Policy implementation class.
			</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:63"></a><font size="1PT">JACC:SPEC:63</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.2</font></TD><TD valign="center" align="left"><font size="1PT">the provider must include an implementation of the
jakarta.security.jacc.PolicyConfigurationFactory class along
with a matched implementation of a class that implements the
jakarta.security.jacc.PolicyConfiguration interface.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:64"></a><font size="1PT">JACC:SPEC:64</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.2</font></TD><TD valign="center" align="left"><font size="1PT">In addition to
providing a PolicyConfiguration interface for integration with the
application server&rsquo;s deployment tools, the provider must also include a
management interface for policy administrators to use to grant the collections of
permissions that comprise roles, to principals. This interface need not be
standardized.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:65"></a><font size="1PT">JACC:SPEC:65</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.2</font></TD><TD valign="center" align="left"><font size="1PT">The provider must ensure that all of the permissions added to a role in a policy
configuration context are granted to any principal mapped to the role by the policy
administrator. The provider must ensure that the same principal-to-role mappings
are applied to all linked policy configuration contexts.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:66"></a><font size="1PT">JACC:SPEC:66</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.2</font></TD><TD valign="center" align="left"><font size="1PT">The provider must ensure that excluded policy statements take precedence
over overlapping unchecked policy statements, and that both excluded and
unchecked policy statements take precedence over overlapping role based policy
statements.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:67"></a><font size="1PT">JACC:SPEC:67</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.3</font></TD><TD valign="center" align="left"><font size="1PT">The getPolicyConfigurationFactory, and contains methods of the
abstract factory class,
jakarta.security.jacc.PolicyConfigurationFactory, must throw a
SecurityException when called by an AccessControlContext that has not been
granted the &ldquo;getPolicy&rdquo; SecurityPermission.
The getPolicyConfiguration method of all implementations of the
PolicyConfigurationFactory abstract class must throw a
SecurityException when called by an AccessControlContext that has not been
granted the &ldquo;setPolicy&rdquo; SecurityPermission.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:68"></a><font size="1PT">JACC:SPEC:68</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.3</font></TD><TD valign="center" align="left"><font size="1PT">All of the public methods of all of the concrete implementations of the
PolicyConfiguration interface must throw a SecurityException when called
by an AccessControlContext that has not been granted the &ldquo;setPolicy&rdquo;
SecurityPermission.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:69"></a><font size="1PT">JACC:SPEC:69</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.3</font></TD><TD valign="center" align="left"><font size="1PT">In cases where a required permission is not held by a caller, the
implementation must return without changing the state of the policy statement
repository.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:70"></a><font size="1PT">JACC:SPEC:70</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.3</font></TD><TD valign="center" align="left"><font size="1PT">The containers of an application server must be granted the &ldquo;getPolicy&rdquo;
SecurityPermission and the &ldquo;setPolicy&rdquo; SecurityPermission. J2EE 1.3 Containers
that choose to support this contract must be granted the &ldquo;getPolicy&rdquo;
AuthPermission and the &ldquo;setPolicy&rdquo; AuthPermission.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:85"></a><font size="1PT">JACC:SPEC:85</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.4.1</font></TD><TD valign="center" align="left"><font size="1PT">The policy statements of the PolicyConfiguration identified by calling the
getContextID method on the PolicyContext utility class must be tested to
determine if they match the permission being evaluated.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:86"></a><font size="1PT">JACC:SPEC:86</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.4.1</font></TD><TD valign="center" align="left"><font size="1PT">If one or more excluded
policy statements match the checked permission, the evaluation may terminate
and the checked permission must be determined not to be granted.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:87"></a><font size="1PT">JACC:SPEC:87</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.4.1</font></TD><TD valign="center" align="left"><font size="1PT"> if one or more unchecked policy statements match the checked permission, the
checked permission must be determined to be granted independent of access
control context. If neither of the excluded or unchecked comparisons yield a
match, then the access control context may only be determined to have been
granted the checked permission if a matching permission has been accorded to the
access control context.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:88"></a><font size="1PT">JACC:SPEC:88</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.4.2</font></TD><TD valign="center" align="left"><font size="1PT">An excluded or unchecked policy statement matches a checked permission if the
policy statement satisfies the rules for matching a granted permission to the
checked permission.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:89"></a><font size="1PT">JACC:SPEC:89</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.4.2</font></TD><TD valign="center" align="left"><font size="1PT">A granted EJBMethodPermission matches a checked EJBMethodPermission
if their names are equivalent, and if the method specification in the actions of the
granted permission matches the method specification in the actions of the checked
permission (as described in the definition of the EJBMethodPermission class).
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:90"></a><font size="1PT">JACC:SPEC:90</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.4.2</font></TD><TD valign="center" align="left"><font size="1PT">One or more granted EJBRoleRefPermission objects match a checked
EJBRoleRefPermission if their names and actions are equivalent to the name of
the checked permission.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:92"></a><font size="1PT">JACC:SPEC:92</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.5</font></TD><TD valign="center" align="left"><font size="1PT">When a Deployer configures an environment specific component identity
based on a deployment descriptor specification that the component run with an
identity mapped to a role, those responsible for defining the principal-to-role
mapping must ensure that the specified identity is mapped to the role.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:93"></a><font size="1PT">JACC:SPEC:93</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.5</font></TD><TD valign="center" align="left"><font size="1PT">A container establishes a component&rsquo;s runAs identity by associating an
AccessControlContext with the component&rsquo;s thread of execution. A component&rsquo;s   
container must protect the AccessControlContext associated with a running
component such that, by default, the component is not granted permissions
sufficient to modify the AccessControlContext.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:104"></a><font size="1PT">JACC:SPEC:104</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.9</font></TD><TD valign="center" align="left"><font size="1PT">A policy provider must return that a tested permission has not been granted if it
acquires a non-null policy context identifier by calling getContextID on the
PolicyContext class and the contains method of the
PolicyConfigurationFactory associated with the provider would return
false if called with the policy context identifier.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:105"></a><font size="1PT">JACC:SPEC:105</font></TD><TD valign="center" align="center"><font size="1PT">4</font></TD><TD valign="center" align="center"><font size="1PT">4.10</font></TD><TD valign="center" align="left"><font size="1PT">A policy module must consult the default policy context if the policy context
identifier it acquires by calling getContextID on the PolicyContext class is the null
value, or when the result of its permission decision in the indicated policy context
is neither granted or explicitly excluded.
The default policy context contains the policy statements that apply to the
JRE independent of the policy configurations defined as the result of the
deployment of modules or applications in containers. In the typical policy
delegation scenario, the default policy context will be encapsulated in a policy
module to which non-jakarta.security.jacc policy decisions are delegated.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
</TABLE>tools assertions<TABLE cellpadding="5" frame="box" border="1" width="900">
<TH bgcolor="#BFBFBF"><FONT size="1PT">ID</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Chapter</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Section</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Description</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Required</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Dependency</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Implementation Specific</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Defined by</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Status</FONT></TH><TH bgcolor="#BFBFBF"><FONT size="1PT">Testable</FONT></TH>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:25"></a><font size="1PT">JACC:SPEC:25</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1</font></TD><TD valign="center" align="left"><font size="1PT">The getPolicyConfigurationFactory method must be used in the
containers to which the components of the application or module are being
deployed to find or instantiate PolicyConfigurationFactory objects.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:26"></a><font size="1PT">JACC:SPEC:26</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1</font></TD><TD valign="center" align="left"><font size="1PT">The getPolicyConfiguration method of the factory must be used to
find or instantiate PolicyConfiguration objects corresponding to the
application or modules being deployed.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:27"></a><font size="1PT">JACC:SPEC:27</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1</font></TD><TD valign="center" align="left"><font size="1PT">The declarative authorization policy statements derived from application or
module deployment descriptor(s) must be translated to create instances of the
corresponding jakarta.security.jacc Permission classes.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:28"></a><font size="1PT">JACC:SPEC:28</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1</font></TD><TD valign="center" align="left"><font size="1PT">Methods of the PolicyConfiguration interface must be used with the
permissions resulting from the translation to create policy statements within the
PolicyConfiguration objects.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:29"></a><font size="1PT">JACC:SPEC:29</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1</font></TD><TD valign="center" align="left"><font size="1PT">The PolicyConfiguration objects must be linked such that the same
principal-to-role mapping will be applied to all the modules of the application.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:30"></a><font size="1PT">JACC:SPEC:30</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1</font></TD><TD valign="center" align="left"><font size="1PT">Independent of this specification, J2EE deployment tools must translate and
complete the declarative policy statements appearing in deployment descriptors
into a form suitable for securing applications on the platform.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:31"></a><font size="1PT">JACC:SPEC:31</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.1.1</font></TD><TD valign="center" align="left"><font size="1PT">Same application policy contexts must be associated by
calling the PolicyConfiguration.linkConfiguration method. This
method must create a transitive and symmetric relationship within the provider
and between this PolicyConfiguration and the argument
PolicyConfiguration, such that they and all PolicyConfiguration objects
otherwise linked to either of them share the same principal-to-role mappings. The
semantics of the association must preserve the invariant that at most one principalto-
role mapping may apply to any PolicyConfiguration.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:33"></a><font size="1PT">JACC:SPEC:33</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.3</font></TD><TD valign="center" align="left"><font size="1PT">A reference to a PolicyConfiguration object must be obtained by calling the
getPolicyConfiguration method on the
PolicyConfigurationFactory implementation class of the provider
configured into the container. The policy context identifier used in the call to the
getPolicyConfiguration method must be a String composed as
described in Section 3.1.2, &ldquo;Servlet Policy Context Identifiers,&rdquo; on page 17.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:34"></a><font size="1PT">JACC:SPEC:34</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.3.1</font></TD><TD valign="center" align="left"><font size="1PT">For each security-constraint element that contains an authconstraint
element, a WebResourcePermission must be instantiated for each
value in the cross-product of url-pattern (from a web-resourcecollection
within the security-constraint) and role-name appearing
in the auth-constraint.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:35"></a><font size="1PT">JACC:SPEC:35</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.3.1</font></TD><TD valign="center" align="left"><font size="1PT">If the reserved role-name, &ldquo;*&rdquo;, occurs as a rolename
in the constraint, the cross product must be computed using all the roles
defined in the web application.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:36"></a><font size="1PT">JACC:SPEC:36</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.3.1</font></TD><TD valign="center" align="left"><font size="1PT">The WebResourcePermission objects must be
constructed using the url-pattern as their name and with actions defined by
the union of the HTTP methods from all the collections that contained the urlpattern
within the security-constraint.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:37"></a><font size="1PT">JACC:SPEC:37</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.3.1</font></TD><TD valign="center" align="left"><font size="1PT">Each permission constructed for
a combination of url-pattern and role must be added to the corresponding
role by calling the addToRole method on the PolicyConfiguration object.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:38"></a><font size="1PT">JACC:SPEC:38</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.3.1</font></TD><TD valign="center" align="left"><font size="1PT">When a security-constraint does not contain an authconstraint,
or it contains an auth-constraint that contains no role names,
aWebResourcePermission must be instantiated (with arguments as defined above)
for each different url-pattern appearing in the collections within the
security-constraint.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:39"></a><font size="1PT">JACC:SPEC:39</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.3.1</font></TD><TD valign="center" align="left"><font size="1PT">The WebResourcePermission objects resulting from
the translation of a security-constraint that does not contain an authconstraint
must be added to the unchecked policy statements by calling
addToUncheckedPolicy on the PolicyConfiguration object.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:40"></a><font size="1PT">JACC:SPEC:40</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.3.1</font></TD><TD valign="center" align="left"><font size="1PT">The
WebResourcePermission objects resulting from the translation of a securityconstraint
containing an auth-constraint that named no roles must be
added to the excluded policy statements by calling addToExcludedPolicy on
the PolicyConfiguration object.
			</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:41"></a><font size="1PT">JACC:SPEC:41</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.3.1</font></TD><TD valign="center" align="left"><font size="1PT">For each security-constraint element in the deployment descriptor, a
WebUserDataPermission must be instantiated for each different url-pattern  
appearing in the web-resource-collection elements within the security-constraint.

TheWebUserDataPermission objects must be constructed using a url-pattern
as their name and with actions defined by concatenating a representation of the
unacceptable transport guarantees to the union of the HTTP methods from the
contained collections that contained the url-pattern.

The WebUserDataPermission objects resulting from the translation must be added to
the excluded policy statements by calling addToExcludedPolicy on the
PolicyConfiguration object.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:42"></a><font size="1PT">JACC:SPEC:42</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.3.1</font></TD><TD valign="center" align="left"><font size="1PT">A transport-guarantee (in a user-data-constraint) of
NONE, or a security-constraint without a user-dataconstraint,
indicates that the associated URL patterns and HTTP methods
may be accessed over any (including an unprotected) transport. 

A transport-guarantee of INTEGRAL indicates that transport connections deemed by the
container to be unprotected or confidentiality only protected are unacceptable.

 A transport-guarantee of CONFIDENTIAL indicates that transport
connections that the container considers to be unprotected or integrity only
protected are unacceptable.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:43"></a><font size="1PT">JACC:SPEC:43</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.3.2</font></TD><TD valign="center" align="left"><font size="1PT">For each security-role-ref appearing in the deployment descriptor a
corresponding WebRoleRefPermission must be created. The name used in the
construction of each WebRoleRefPermission must be the servlet-name in
whose context the security-role-ref is defined. The actions used to
construct the permission must be the value of the role-name (that is the
reference), appearing in the security-role-ref.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:44"></a><font size="1PT">JACC:SPEC:44</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.3.2</font></TD><TD valign="center" align="left"><font size="1PT">The deployment tools must call the addToRole method on the
 PolicyConfiguration object to add the WebRoleRefPermission object
 resulting from the translation to the role identified in the role-link
 appearing in the security-role-ref.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:45"></a><font size="1PT">JACC:SPEC:45</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.3.2</font></TD><TD valign="center" align="left"><font size="1PT">For each servlet element in the deployment descriptor a WebRoleRefPermission must
be created for each security-role whose name does not appear as the rolename
in a security-role-ref within the servlet element. Each such
WebRoleRefPermission must be created with action (that is, reference)
corresponding to the role-name and added to the role with the same name (as
the reference) by calling the addToRole method on the
PolicyConfiguration object.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:46"></a><font size="1PT">JACC:SPEC:46</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.4</font></TD><TD valign="center" align="left"><font size="1PT">an application server must establish EJB policy
context identifiers sufficient to differentiate all instances of the deployment of an
EJB jar on the application server, or on any other application server with which
the server may share the same policy statement repository.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:47"></a><font size="1PT">JACC:SPEC:47</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.5.1</font></TD><TD valign="center" align="left"><font size="1PT">An EJBMethodPermission object must be created for each role-name or
unchecked element contained in each method-permission element
appearing in the deployment descriptor.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:48"></a><font size="1PT">JACC:SPEC:48</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.5.1</font></TD><TD valign="center" align="left"><font size="1PT">The name of each EJBMethodPermission
must be the ejb-name as defined in the method element of the methodpermission
element. The actions used in the permission construction must be
obtained by translating the contents of the method element into a method
specification according to the methodSpec syntax defined in the documentation of
the EJBMethodPermission class.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:49"></a><font size="1PT">JACC:SPEC:49</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.5.1</font></TD><TD valign="center" align="left"><font size="1PT">If the method-permission element contains the unchecked element,
then the deployment tools must call the addToUncheckedPolicy method to
add the permission resulting from the translation to the
PolicyConfiguration object.

Alternatively, if the method-permission
element contains one or more role-name elements, then the deployment tools
must call the addToRole method to add each of the permissions resulting from
the translation to the corresponding role of the PolicyConfiguration object.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:50"></a><font size="1PT">JACC:SPEC:50</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.5.2</font></TD><TD valign="center" align="left"><font size="1PT">An EJBMethodPermission object must be created for each method element
occurring in the exclude-list element of the deployment descriptor. The
name and actions of each EJBMethodPermission must be established as described
in Section 3.1.5.1, &ldquo;Translating EJB method-permission Elements.&rdquo;
The deployment tools must create excluded policy statements in the provider
by calling the addToExcludedPolicy method on the
PolicyConfiguration object.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:51"></a><font size="1PT">JACC:SPEC:51</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.5.3</font></TD><TD valign="center" align="left"><font size="1PT">For each security-role-ref element appearing in the deployment
descriptor, a corresponding EJBRoleRefPermission must be created. The name of
each EJBRoleRefPermission must be obtained as described for
EJBMethodPermission objects. The actions used to construct the permission must
be the value of the role-name (that is the reference), appearing in the
security-role-ref. The deployment tools must call the addToRole
method on the PolicyConfiguration object to add a policy statement
corresponding to the EJBRoleRefPermission to the role identified in the rolelink
appearing in the security-role-ref.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:52"></a><font size="1PT">JACC:SPEC:52</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.6</font></TD><TD valign="center" align="left"><font size="1PT">The server&rsquo;s deployment tools must translate the declarative authorization policy
appearing in the application or module deployment descriptor(s) into policy
statements within the Policy objects used by the containers to which the
components of the application or module are being deployed.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:53"></a><font size="1PT">JACC:SPEC:53</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.6</font></TD><TD valign="center" align="left"><font size="1PT">When a module is deployed, it must be linked to the
PolicyConfiguration object of any other module with which it must share
the same principal-to-role mapping. When an application is deployed, the
PolicyConfiguration objects corresponding to all the modules of the
application must be linked. PolicyConfiguration objects are linked by calling the
linkConfiguration method of the PolicyConfiguration interface.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:54"></a><font size="1PT">JACC:SPEC:54</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.6</font></TD><TD valign="center" align="left"><font size="1PT">Once the translation is complete, a call must be made to Policy.refresh
on the Policy object used by each of the containers to which the application or
module is being deployed. The calls to Policy.refresh must occur before the
containers will accept requests for the deployed resources, but may be deferred
until after principal-to-role mapping.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:55"></a><font size="1PT">JACC:SPEC:55</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.6</font></TD><TD valign="center" align="left"><font size="1PT">The policy context identifiers corresponding to the deployed application or
module must be recorded in the application server so that they can be used by
containers to establish the policy context as required by Section 4.6, &ldquo;Setting the
Policy Context&rdquo; of the Policy Decision and Enforcement Subcontract, and such
that the Deployer may subsequently remove or modify the corresponding policy
configuration as a result of the undeployment or redeployment of the application.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:56"></a><font size="1PT">JACC:SPEC:56</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.7</font></TD><TD valign="center" align="left"><font size="1PT">When undeploying an application or module, the deployment tools must call the
delete method on the PolicyConfiguration objects associated with the
modules of the application and associated with the provider of each container to
which one or more modules of the application have been deployed.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:57"></a><font size="1PT">JACC:SPEC:57</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.7</font></TD><TD valign="center" align="left"><font size="1PT">To ensure that
there is not a period during undeployment when the removal of policy statements
on application components renders what were protected components unprotected,
the application server must stop accepting requests for the application&rsquo;s
components before the policy statements are deleted.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:58"></a><font size="1PT">JACC:SPEC:58</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.7</font></TD><TD valign="center" align="left"><font size="1PT">After the policy statements
are removed a call must be made to Policy.refresh on the Policy object used
by each of the containers from which at least one module of the application was
undeployed.
			</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:59"></a><font size="1PT">JACC:SPEC:59</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.7</font></TD><TD valign="center" align="left"><font size="1PT">To facilitate redeployment to an existing policy configuration, container
deployment tools may also support a mode in which they do not delete the
PolicyConfiguration objects associated with the application or module
being undeployed.
			</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:60"></a><font size="1PT">JACC:SPEC:60</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.8</font></TD><TD valign="center" align="left"><font size="1PT">Containers are not required to deploy to an existing policy configuration.

To associate an application or module with an existing set of linked
PolicyConfiguration objects, the policy context identifiers of the existing
objects must be applied by the relevant containers in fulfilling their obligations as
defined in the Policy Decision and Enforcement Subcontract. The pre-existing
PolicyConfiguration objects may be verified for existence, by calling the
contains method of the PolicyConfigurationFactory with the policy
context identifiers corresponding to the PolicyConfiguration objects.
			</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:61"></a><font size="1PT">JACC:SPEC:61</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.9</font></TD><TD valign="center" align="left"><font size="1PT">Containers are not required to implement redeployment functionality.</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD>
</TR>
<TR>
<TD valign="center" align="center"><a name="JACC:SPEC:62"></a><font size="1PT">JACC:SPEC:62</font></TD><TD valign="center" align="center"><font size="1PT">3</font></TD><TD valign="center" align="center"><font size="1PT">3.1.9</font></TD><TD valign="center" align="left"><font size="1PT">To ensure redeployment does not create a situation where the removal of
policy statements on application components renders what were protected
components unprotected, the application server must stop accepting requests for
the application's components before redeployment begins. 

To redeploy a module, the deployment tools must call the delete method on the module's
PolicyConfiguration object in the provider associated with each of the
containers to which the module has been deployed. 

The deployment tools must translate the declarative authorization policy appearing in the module's
deployment descriptor into a PolicyConfiguration object (that may or may
not have the same policy context identifier as the deleted objects). 

The translation must include linking the new PolicyConfiguration object to the
PolicyConfiguration object of any other module with which the module
must share its principal-to-role mappings.

After the translation and reconfiguration of policy is complete a call must be
made to Policy.refresh on the Policy object used by each of the containers to
which the module has been redeployed.
			</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">
<br>
</font></TD><TD valign="center" align="center"><font size="1PT">false</font></TD><TD valign="center" align="center"><font size="1PT">technology</font></TD><TD valign="center" align="center"><font size="1PT">active</font></TD><TD valign="center" align="center"><font size="1PT">true</font></TD>
</TR>
</TABLE>
</body>
</html>
